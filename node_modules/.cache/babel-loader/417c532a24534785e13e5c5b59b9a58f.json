{"ast":null,"code":"import { FETCH_DATA_REQUEST, FETCH_DATA_SUCCESS, FETCH_DATA_FAILURE, REMOVE_MOVIE, ADD_MOVIE } from '../reducers/fetchTypes';\nconst initialState = {\n  loading: false,\n  mylist: [],\n  recommendations: [],\n  error: \"\"\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_DATA_REQUEST:\n      return { ...state,\n        loading: true\n      };\n\n    case FETCH_DATA_SUCCESS:\n      return {\n        loading: false,\n        mylist: action.payload.mylist,\n        recommendations: action.payload.recommendations,\n        error: \"\"\n      };\n\n    case FETCH_DATA_FAILURE:\n      return {\n        loading: false,\n        mylist: [],\n        recommendations: [],\n        error: action.payload\n      };\n\n    case REMOVE_MOVIE:\n      return { ...state,\n        mylist: [...state.mylist.filter(el => el.id !== action.payload.id)],\n        // recommendations:state.recommendations.concat(state.mylist.find(el => el.id === action.id))\n        recommendations: [...state.recommendations.concat(action)]\n      };\n\n    case ADD_MOVIE:\n      return { ...state,\n        recommendations: [...state.recommendations.filter(el => el.id !== action.payload.id)],\n        // mylist: state.mylist.concat(state.recommendations.find(el => el.id === action.id))\n        mylist: [...state.mylist.concat(action)]\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Volumes/BEAUTY/interview-code/2021-4/Apple/netflix-react-app/src/store/reducers/fetchMovies.js"],"names":["FETCH_DATA_REQUEST","FETCH_DATA_SUCCESS","FETCH_DATA_FAILURE","REMOVE_MOVIE","ADD_MOVIE","initialState","loading","mylist","recommendations","error","reducer","state","action","type","payload","filter","el","id","concat"],"mappings":"AAAA,SAASA,kBAAT,EAA6BC,kBAA7B,EAAiDC,kBAAjD,EACSC,YADT,EACuBC,SADvB,QACuC,wBADvC;AAGA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,OAAO,EAAC,KADW;AAEnBC,EAAAA,MAAM,EAAC,EAFY;AAGnBC,EAAAA,eAAe,EAAC,EAHG;AAInBC,EAAAA,KAAK,EAAC;AAJa,CAArB;;AAOA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AAC9C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKb,kBAAL;AACE,aAAO,EAAC,GAAGW,KAAJ;AAAWL,QAAAA,OAAO,EAAE;AAApB,OAAP;;AACF,SAAKL,kBAAL;AACE,aAAO;AAAEK,QAAAA,OAAO,EAAC,KAAV;AACCC,QAAAA,MAAM,EAACK,MAAM,CAACE,OAAP,CAAeP,MADvB;AAECC,QAAAA,eAAe,EAAEI,MAAM,CAACE,OAAP,CAAeN,eAFjC;AAGCC,QAAAA,KAAK,EAAC;AAHP,OAAP;;AAIF,SAAKP,kBAAL;AACE,aAAO;AAAEI,QAAAA,OAAO,EAAE,KAAX;AACGC,QAAAA,MAAM,EAAE,EADX;AAEGC,QAAAA,eAAe,EAAE,EAFpB;AAGGC,QAAAA,KAAK,EAACG,MAAM,CAACE;AAHhB,OAAP;;AAIF,SAAKX,YAAL;AACE,aAAO,EAAC,GAAGQ,KAAJ;AACLJ,QAAAA,MAAM,EAAE,CAAC,GAAGI,KAAK,CAACJ,MAAN,CAAaQ,MAAb,CAAoBC,EAAE,IAAIA,EAAE,CAACC,EAAH,KAAUL,MAAM,CAACE,OAAP,CAAeG,EAAnD,CAAJ,CADH;AAEL;AACAT,QAAAA,eAAe,EAAC,CAAC,GAAGG,KAAK,CAACH,eAAN,CAAsBU,MAAtB,CAA6BN,MAA7B,CAAJ;AAHX,OAAP;;AAKF,SAAKR,SAAL;AACE,aAAO,EAAC,GAAGO,KAAJ;AACLH,QAAAA,eAAe,EAAC,CAAC,GAAGG,KAAK,CAACH,eAAN,CAAsBO,MAAtB,CAA6BC,EAAE,IAAIA,EAAE,CAACC,EAAH,KAAUL,MAAM,CAACE,OAAP,CAAeG,EAA5D,CAAJ,CADX;AAEL;AACAV,QAAAA,MAAM,EAAE,CAAC,GAAGI,KAAK,CAACJ,MAAN,CAAaW,MAAb,CAAoBN,MAApB,CAAJ;AAHH,OAAP;;AAKF;AACE,aAAOD,KAAP;AA1BJ;AA4BD,CA7BH;;AA+BA,eAAeD,OAAf","sourcesContent":["import { FETCH_DATA_REQUEST, FETCH_DATA_SUCCESS, FETCH_DATA_FAILURE,\n         REMOVE_MOVIE, ADD_MOVIE} from '../reducers/fetchTypes'\n\nconst initialState = {\n  loading:false,\n  mylist:[],\n  recommendations:[],\n  error:\"\"\n};\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n      case FETCH_DATA_REQUEST:\n        return {...state, loading: true}\n      case FETCH_DATA_SUCCESS:\n        return { loading:false, \n                mylist:action.payload.mylist,\n                recommendations: action.payload.recommendations,\n                error:\"\"}\n      case FETCH_DATA_FAILURE:\n        return { loading: false,\n                  mylist: [],\n                  recommendations: [],\n                  error:action.payload}\n      case REMOVE_MOVIE:\n        return {...state,\n          mylist: [...state.mylist.filter(el => el.id !== action.payload.id)],\n          // recommendations:state.recommendations.concat(state.mylist.find(el => el.id === action.id))\n          recommendations:[...state.recommendations.concat(action)]\n        }\n      case ADD_MOVIE:\n        return {...state,\n          recommendations:[...state.recommendations.filter(el => el.id !== action.payload.id)],\n          // mylist: state.mylist.concat(state.recommendations.find(el => el.id === action.id))\n          mylist: [...state.mylist.concat(action)]\n        }\n      default:\n        return state;\n    }\n  }\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}